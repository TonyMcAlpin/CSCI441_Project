<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <title>Activities: </title>
</head>

<body>
    <header >
        <h1>Activities</h1>
    </header>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="Appointments.html">Appointments</a></li>
            <li><a href="Activities.html" class="active">Activities</a></li>
            <li><a href="Medications.html">Medications</a></li>
            <li><button id="logoutBtn">Log Out</button></li>
        </ul>
    </nav>
    <main class="container mt-4">

        
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header" style="background-color: #8b0000; color: white;">
                        Logged Activities
                    </div>
                    <div class="card-body p-0">
                        <table class="table table-striped table-hover m-0">
                            <thead class="table-dark">
                                <tr>
                                    <th>Date</th>
                                    <th>Duration</th>
                                    <th>Description</th>
                                    <th>Delete/Edit</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    

        <div class="row g-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header" style="background-color: #8b0000; color: white;">
                        Add Activity
                    </div>
                    <div class="card-body" style="background-color: #ff6666; color: white;">
                        <form id="addActForm" method="post">
                            <div class="mb-3">
                                <label for="activityDate" class="form-label">Date:</label>
                                <input type="date" class="form-control" id="activityDate" name="act_date" required>
                            </div>
                            <div class="mb-3">
                                <label for="activityDuration" class="form-label">Duration (minutes):</label>
                                <input type="number" class="form-control" id="activityDuration" name="activityDuration" required>
                            </div>
                            <div class="mb-3">
                                <label for="activityDescription" class="form-label">Description:</label>
                                <input type="text" class="form-control" id="activityDescription" name="comments" required>
                            </div>
                            <button class="btn" type="submit" style="background-color: #8b0000; color: white;">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
    
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header" style="background-color: #8b0000; color: white;">
                        Calculate Average Exercise Per Day
                    </div>
                    <div class="card-body" style="background-color: #ff6666; color: white;">
                        <form id="averageForm">
                            <div class="mb-3">
                                <label for="startDate">Start Date:</label>
                                <input type="date" id="startDate" name="startDate" class="form-control" required>
                            </div>
                            <div class="mb-3">
                                <label for="endDate">End Date:</label>
                                <input type="date" id="endDate" name="endDate" class="form-control" required>
                            </div>
                            <button class="btn" type="submit" style="background-color: #8b0000; color: white;">Calculate Average</button>
                        </form>
                        <p id="averageResult" class="mt-3">Average: N/A</p>
                    </div>
                </div>
            </div>
    
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header" style="background-color: #8b0000; color: white;">
                        Set Weekly Activity Goal
                    </div>
                    <div class="card-body" style="background-color: #ff6666; color: white;">
                        <form id="goal-form">
                            <div class="mb-3">
                                <label for="goal-input" class="form-label">Goal (minutes per week):</label>
                                <input type="number" id="goal-input" class="form-control" placeholder="e.g. 150" required />
                            </div>
                            <button type="submit" class="btn" style="background-color: #8b0000; color: white;">Set Goal</button>
                        </form>
                        <p id="goal-progress" class="mt-3">Loading goal progress...</p>
                    </div>
                </div>
            </div>
        </div>

            <!-- Edit Modal -->
            <div class="modal fade pt-5" id="editModal" tabindex="-1" aria-hidden="true" >
                <div class="modal-dialog" style="background-color: #ff6666; color:white;">
                    <form class="modal-content" id="editForm" method="post">
                        <div class="modal-header" style="background-color: #8b0000; color: white;">
                            <h5 class="modal-title">Edit Activity</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" style="background-color: #ff6666; color:white;">
                            <input type="hidden" id="editId">
                            <div class="mb-3">
                                <label for="editDate" class="form-label">Date</label>
                                <input type="date" class="form-control" id="editDate" name="act_date" required>
                            </div>
                            <div class="mb-3">
                                <label for="editDuration" class="form-label">Duration</label>
                                <input type="number" class="form-control" id="editDuration" name="duration" required>
                            </div>
                            <div class="mb-3">
                                <label for="editDescription" class="form-label">Description</label>
                                <input type="text" class="form-control" id="editDescription" name="comments" required>
                            </div>
                        </div>
                        <div class="modal-footer mx-auto">
                            <button type="submit" class="btn" style="background-color: #8b0000; color: white;">Save changes</button>
                        </div>
                    </form>
                </div>
            </div>
    </main>
    
    <footer><a href="contactus.html">Contact Us</a></footer>
</body>
<script src="../js/main.js"></script>
<script src= "../js/displayUser.js"></script>
<script src="../js/activities/addActivity.js"></script>
<script src="../js/activities/getUserAct.js"></script>
<script src="../js/activities/deleteActivity.js"></script>
<script src="../js/activities/updateActivity.js"></script>
<script src="../js/activities/averageActivity.js"></script>
<script src="../js/logout.js"></script>
<script src="../js/activities/setGoal.js"></script>
<script src="../js/activities/goalProgress.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</html>
